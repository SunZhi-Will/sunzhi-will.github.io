(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{5858:(e,r,t)=>{Promise.resolve().then(t.bind(t,8643))},8643:(e,r,t)=>{"use strict";t.d(r,{default:()=>C});var a=t(5155),o=t(2115),n=t(5565),s=t(119),l=t(8208),i=t(8637),c=t(2356);function d(e){let{lang:r,setLang:t}=e,o=l.h2[r],{theme:n}=(0,c.D)(),i="dark"===n;return(0,a.jsx)(s.P.div,{className:"fixed top-0 right-0 z-50 pointer-events-auto",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:(0,a.jsx)(s.P.div,{className:"relative overflow-hidden mt-4 mr-4 rounded-3xl backdrop-blur-2xl shadow-2xl transition-colors duration-300 ".concat(i?"bg-gray-900/95 border border-gray-700/60":"bg-white/90 border border-gray-300/60"),animate:{width:"auto",height:"3rem"},transition:{type:"spring",stiffness:300,damping:30},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full px-3",children:(0,a.jsx)(s.P.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.15},onClick:()=>t("zh-TW"===r?"en":"zh-TW"),className:"px-3 py-1.5 rounded-lg text-xs font-medium\n                        transition-all duration-200 whitespace-nowrap ".concat(i?"text-gray-300 hover:text-gray-200":"text-gray-700 hover:text-gray-900"),whileHover:{scale:1.05},whileTap:{scale:.95},children:o.langSwitch})})})})}var g=t(9444),p=t(5),x=t(8173),h=t.n(x);function m(e){let{posts:r,currentSlug:t,lang:o}=e,{theme:i}=(0,c.D)(),d="dark"===i,g=r.find(e=>e.slug===t),x=r.filter(e=>e.slug!==t).map(e=>{let r=(null==g?void 0:g.tags.filter(r=>e.tags.includes(r)).length)||0;return{post:e,score:r}}).sort((e,r)=>r.score!==e.score?r.score-e.score:new Date(r.post.date).getTime()-new Date(e.post.date).getTime()).slice(0,3).map(e=>e.post);return 0===x.length?null:(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-lg font-normal mb-6 ".concat(d?"text-gray-200":"text-gray-900"),children:"zh-TW"===o?"推薦閱讀":"Related Articles"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x.map((e,r)=>(0,a.jsx)(s.P.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r,duration:.5,ease:"easeOut"},className:"group flex flex-col",children:(0,a.jsx)(h(),{href:"/blog/".concat(e.slug),className:"flex-1 flex flex-col",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg transition-all duration-300 flex flex-col h-full border ".concat(d?"bg-gray-800/80 hover:bg-gray-800/90 border-gray-700/60":"bg-white/80 hover:bg-white/90 border-gray-300/60"),children:[(0,a.jsx)("div",{className:"relative w-full aspect-[16/9] overflow-hidden flex-shrink-0 ".concat(d?"bg-gray-700/50":"bg-gray-200/50"),children:e.coverImage?(0,a.jsx)(n.default,{src:e.coverImage,alt:e.title,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105",sizes:"(max-width: 768px) 100vw, 33vw"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center ".concat(d?"bg-gradient-to-br from-gray-700 via-gray-800 to-gray-700":"bg-gradient-to-br from-gray-200 via-gray-300 to-gray-200"),children:(0,a.jsx)("svg",{className:"w-8 h-8 ".concat(d?"text-gray-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,a.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,a.jsx)("time",{className:"text-xs mb-2 block flex-shrink-0 ".concat(d?"text-gray-400":"text-gray-600"),children:(0,p.Y)(e.date,"zh-TW"===o?"zh-TW":"en-US")}),(0,a.jsx)("h3",{className:"text-base font-normal mb-2 line-clamp-2 transition-colors flex-shrink-0 ".concat(d?"text-gray-200 group-hover:text-gray-300":"text-gray-900 group-hover:text-gray-700"),children:e.title}),(0,a.jsx)("p",{className:"text-sm line-clamp-2 leading-relaxed flex-1 ".concat(d?"text-gray-300":"text-gray-700"),children:e.description}),(()=>{let r=(0,l.b1)(e.tags,o);return r.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-3 flex-shrink-0",children:r.slice(0,2).map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded ".concat(d?"text-gray-300 bg-gray-700/70 border border-gray-600/60":"text-gray-700 bg-gray-200/70 border border-gray-300/60"),children:e},e))})})()]})]})})},e.slug))})]})}var y=t(6584),u=t(2818);function b(e){let{postSlug:r,postTitle:t,lang:n,postUrl:s}=e,{theme:l}=(0,c.D)(),i=(0,o.useRef)(null),d=u.env.NEXT_PUBLIC_DISQUS_SHORTNAME;return((0,o.useEffect)(()=>{d&&(window.disqus_config=function(){this.page.identifier=r,this.page.url=s,this.page.title=t},window.DISQUS&&window.disqus_config&&window.DISQUS.reset({reload:!0,config:window.disqus_config}))},[r,t,s,r,d]),d)?(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-lg font-normal mb-6 ".concat("dark"===l?"text-gray-200":"text-gray-900"),children:"zh-TW"===n?"留言":"Comments"}),(0,a.jsx)(y.default,{id:"disqus-script",strategy:"lazyOnload",onLoad:()=>{d&&window.disqus_config&&window.DISQUS&&window.DISQUS.reset({reload:!0,config:window.disqus_config})},dangerouslySetInnerHTML:{__html:"\n                        (function() {\n                            var d = document, s = d.createElement('script');\n                            s.src = 'https://".concat(d,".disqus.com/embed.js';\n                            s.setAttribute('data-timestamp', +new Date());\n                            (d.head || d.body).appendChild(s);\n                        })();\n                    ")}}),(0,a.jsx)("div",{ref:i,id:"disqus_thread",className:"disqus-container"})]}):null}function f(){let[e,r]=(0,o.useState)(0),{theme:t}=(0,c.D)();return(0,o.useEffect)(()=>{let e=()=>{let e=window.innerHeight,t=document.documentElement.scrollHeight,a=window.scrollY||document.documentElement.scrollTop,o=t-e;r(Math.min(100,Math.max(0,o>0?a/o*100:0)))};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 h-1",children:(0,a.jsx)(s.P.div,{className:"h-full ".concat("dark"===t?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500":"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600"),style:{width:"".concat(e,"%")},initial:{width:0},animate:{width:"".concat(e,"%")},transition:{duration:.1,ease:"linear"}})})}function v(e){let{htmlContent:r,postSlug:t,lang:n}=e,s=(0,o.useRef)(null),{theme:l}=(0,c.D)(),i="dark"===l;return(0,o.useEffect)(()=>{s.current&&(s.current.querySelectorAll('a[href^="http"]').forEach(e=>{if(!e.querySelector(".external-link-icon")){let r=document.createElement("span");r.className="external-link-icon ml-1 text-xs",r.textContent="↗",r.setAttribute("aria-hidden","true"),e.appendChild(r)}}),s.current.querySelectorAll("img").forEach(e=>{e.style.cursor="zoom-in",e.onclick=()=>{let r=document.createElement("div");r.className="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",r.onclick=()=>r.remove();let t=document.createElement("img");t.src=e.src,t.className="max-w-[90vw] max-h-[90vh] object-contain rounded-lg",t.onclick=e=>e.stopPropagation(),r.appendChild(t),document.body.appendChild(r)}}),s.current.querySelectorAll("pre code").forEach(e=>{let r=e.parentElement;if(r&&!r.querySelector(".copy-code-btn")){let t=document.createElement("button");t.className="copy-code-btn absolute top-2 right-2 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ".concat(i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),t.textContent="zh-TW"===n?"複製":"Copy",t.onclick=async()=>{let r=e.textContent||"";try{await navigator.clipboard.writeText(r),t.textContent="zh-TW"===n?"已複製！":"Copied!",setTimeout(()=>{t.textContent="zh-TW"===n?"複製":"Copy"},2e3)}catch(e){console.error("Failed to copy:",e)}},r.style.position="relative",r.appendChild(t)}}),s.current.querySelectorAll("table").forEach(e=>{var r,t;if(!(null===(r=e.parentElement)||void 0===r?void 0:r.classList.contains("table-wrapper"))){let r=document.createElement("div");r.className="table-wrapper overflow-x-auto my-6",null===(t=e.parentElement)||void 0===t||t.insertBefore(r,e),r.appendChild(e)}}),s.current.querySelectorAll("p").forEach(e=>{let r=e.textContent||"",t=/(\d+(?:\.\d+)?%)/g;t.test(r)&&(e.innerHTML=r.replace(t,e=>'<span class="font-bold '.concat(i?"text-purple-400":"text-purple-600",'">').concat(e,"</span>")))}))},[r,i,n,t]),(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsx)("div",{ref:s,className:"prose prose-base max-w-none\n                    prose-h1:text-2xl prose-h1:mt-12 prose-h1:mb-4 prose-h1:font-normal\n                    prose-h2:text-xl prose-h2:mt-10 prose-h2:mb-4 prose-h2:font-normal\n                    prose-h3:text-lg prose-h3:mt-8 prose-h3:mb-3 prose-h3:font-normal\n                    prose-h4:text-base prose-h4:mt-6 prose-h4:mb-2 prose-h4:font-normal\n                    prose-p:leading-relaxed prose-p:font-normal prose-p:text-[15px] prose-p:mb-5\n                    prose-a:no-underline prose-a:border-b prose-a:transition-all prose-a:font-medium\n                    prose-strong:font-semibold\n                    prose-code:px-2 prose-code:py-1 prose-code:text-sm prose-code:font-mono prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-code:border\n                    prose-pre:rounded-xl prose-pre:shadow-xl prose-pre:backdrop-blur-sm prose-pre:overflow-x-auto\n                    prose-pre code:bg-transparent prose-pre code:px-0 prose-pre code:py-0 prose-pre code:border-0\n                    prose-blockquote:border-l-4 prose-blockquote:py-4 prose-blockquote:pl-6 prose-blockquote:pr-6 prose-blockquote:rounded-r-lg prose-blockquote:font-light prose-blockquote:not-italic prose-blockquote:my-8\n                    prose-ul:my-6 prose-ol:my-6\n                    prose-li:my-2 prose-li:leading-relaxed\n                    prose-img:rounded-xl prose-img:border prose-img:shadow-xl prose-img:my-8 prose-img:transition-transform prose-img:hover:scale-105\n                    prose-hr:my-12\n                    prose-th:border prose-th:px-4 prose-th:py-2\n                    prose-td:border prose-td:px-4 prose-td:py-2\n                    ".concat(i?"prose-headings:font-normal prose-headings:tracking-tight prose-headings:text-gray-200\n                        prose-p:text-gray-300\n                        prose-a:text-gray-400 prose-a:border-gray-600/50 hover:prose-a:border-gray-500 hover:prose-a:text-gray-300\n                        prose-strong:text-gray-200\n                        prose-code:text-gray-300 prose-code:bg-gray-700/80 prose-code:border-gray-600/50\n                        prose-pre:bg-gray-800/80 prose-pre:border prose-pre:border-gray-700/50\n                        prose-blockquote:border-gray-600/50 prose-blockquote:bg-gray-800/30 prose-blockquote:text-gray-300\n                        prose-ul:text-gray-300 prose-ol:text-gray-300\n                        prose-li:marker:text-gray-500\n                        prose-img:border-gray-700/50\n                        prose-hr:border-gray-700/50\n                        prose-table:text-gray-300 prose-th:border-gray-700/50 prose-th:bg-gray-800/30\n                        prose-td:border-gray-700/50":"prose-headings:font-normal prose-headings:tracking-tight prose-headings:text-gray-900\n                        prose-p:text-gray-700\n                        prose-a:text-gray-600 prose-a:border-gray-400/50 hover:prose-a:border-gray-600 hover:prose-a:text-gray-800\n                        prose-strong:text-gray-900\n                        prose-code:text-gray-800 prose-code:bg-gray-200/80 prose-code:border-gray-300/50\n                        prose-pre:bg-gray-100/80 prose-pre:border prose-pre:border-gray-300/50\n                        prose-blockquote:border-gray-400/50 prose-blockquote:bg-gray-200/30 prose-blockquote:text-gray-700\n                        prose-ul:text-gray-700 prose-ol:text-gray-700\n                        prose-li:marker:text-gray-600\n                        prose-img:border-gray-300/50\n                        prose-hr:border-gray-300/50\n                        prose-table:text-gray-700 prose-th:border-gray-300/50 prose-th:bg-gray-200/30\n                        prose-td:border-gray-300/50"),dangerouslySetInnerHTML:{__html:r}})})}var w=t(6357),j=t(5185),k=t(9040);function N(e){let{title:r,url:t,lang:n}=e,[l,i]=(0,o.useState)(!1),{theme:d}=(0,c.D)(),g="dark"===d,p="zh-TW"===n?"分享：".concat(r):"Share: ".concat(r),x=async()=>{try{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},h=async()=>{if(navigator.share)try{await navigator.share({title:r,url:t})}catch(e){}else x()},m={twitter:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(p),"&url=").concat(encodeURIComponent(t)),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t)),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(t))};return(0,a.jsxs)("div",{className:"my-8 p-6 rounded-xl border ".concat(g?"border-gray-700/50 bg-gray-800/30":"border-gray-300/50 bg-gray-50/50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 ".concat(g?"text-gray-200":"text-gray-900"),children:[(0,a.jsx)(w.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"zh-TW"===n?"分享這篇文章":"Share this article"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)(s.P.a,{href:m.twitter,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(g?"bg-gray-700/50 text-gray-200 hover:bg-gray-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Twitter"}),(0,a.jsx)(s.P.a,{href:m.facebook,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(g?"bg-gray-700/50 text-gray-200 hover:bg-gray-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"Facebook"}),(0,a.jsx)(s.P.a,{href:m.linkedin,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(g?"bg-gray-700/50 text-gray-200 hover:bg-gray-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:"LinkedIn"}),(0,a.jsx)(s.P.button,{onClick:h,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ".concat(g?"bg-gray-700/50 text-gray-200 hover:bg-gray-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"zh-TW"===n?"已複製！":"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),"zh-TW"===n?"複製連結":"Copy Link"]})})]})]})}var S=t(5083);function T(e){let{children:r,delay:t=0,direction:o="up",className:n=""}=e,{ref:l,inView:i}=(0,S.Wx)({threshold:.1,triggerOnce:!0}),c={up:{y:30,opacity:0},down:{y:-30,opacity:0},left:{x:30,opacity:0},right:{x:-30,opacity:0},fade:{opacity:0}};return(0,a.jsx)(s.P.div,{ref:l,initial:c[o],animate:i?({up:{y:0,opacity:1},down:{y:0,opacity:1},left:{x:0,opacity:1},right:{x:0,opacity:1},fade:{opacity:1}})[o]:c[o],transition:{duration:.6,delay:t,ease:"easeOut"},className:n,children:r})}function C(e){let{defaultPost:r,defaultHtmlContent:t,defaultAllPosts:x,postsByLang:h,allPostsByLang:y,baseUrl:u}=e,[w,j]=(0,o.useState)("zh-TW"),[k,S]=(0,o.useState)(r),[C,q]=(0,o.useState)(t),[E,z]=(0,o.useState)(x),[_,I]=(0,o.useState)(u),{theme:W}=(0,c.D)(),D="dark"===W,P=l.h2[w];(0,o.useEffect)(()=>{I(window.location.origin)},[]);let L=Math.max(1,Math.ceil(C.length/1500)),U=e=>{let r=h[e];r&&(S(r.post),q(r.htmlContent)),z(y[e])};(0,o.useEffect)(()=>{let e=localStorage.getItem("blog-lang");if(e&&("zh-TW"===e||"en"===e))j(e),e!==r.lang&&U(e);else{let e=navigator.language.includes("zh")?"zh-TW":"en";j(e),localStorage.setItem("blog-lang",e),e!==r.lang&&U(e)}},[]);let A=e=>{e!==w&&(j(e),localStorage.setItem("blog-lang",e),U(e))};return(0,o.useEffect)(()=>{k.title&&(document.title="".concat(k.title," | Sun"))},[k.title,w]),(0,a.jsxs)("div",{className:"h-screen overflow-hidden relative transition-colors duration-300",style:{backgroundColor:D?"#111827":"#f9fafb",backgroundImage:D?"radial-gradient(circle, rgba(255,255,255,0.08) 1px, transparent 1px), linear-gradient(to bottom right, #111827, #1f2937, #111827)":"radial-gradient(circle, rgba(0,0,0,0.1) 1px, transparent 1px), linear-gradient(to bottom right, #f9fafb, #f3f4f6, #f9fafb)",backgroundSize:"20px 20px, 100% 100%",backgroundPosition:"0 0, 0 0",color:D?"#e5e7eb":"#111827"},children:[(0,a.jsx)(g.G,{lang:w,setLang:A}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(i.n,{lang:w})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(d,{lang:w,setLang:A})}),(0,a.jsx)(f,{}),(0,a.jsx)("main",{className:"overflow-y-auto h-full scrollbar-custom",children:(0,a.jsxs)("article",{className:"relative",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-12 md:px-8 md:py-16 lg:px-12 lg:py-20 pt-20 md:pt-24",children:(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-8",children:[(0,a.jsxs)("header",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-normal leading-tight tracking-tight ".concat(D?"text-gray-200":"text-gray-900"),children:k.title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm ".concat(D?"text-gray-400":"text-gray-600"),children:[(0,a.jsx)("time",{children:(0,p.Y)(k.date,"zh-TW"===w?"zh-TW":"en-US")}),L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsxs)("span",{children:[L," ",P.readTime]})]}),(()=>{let e=(0,l.b1)(k.tags,w);return e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.map(e=>(0,a.jsx)("span",{className:D?"text-gray-400":"text-gray-600",children:e},e))})]})})()]})]}),k.coverImage&&(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-lg ".concat(D?"bg-gray-700/50":"bg-gray-200/50"),children:(0,a.jsx)(n.default,{src:k.coverImage,alt:k.title,width:1200,height:675,className:"w-full h-auto",priority:!0})}),k.description&&(0,a.jsx)("p",{className:"text-base leading-relaxed ".concat(D?"text-gray-300":"text-gray-700"),children:k.description}),(0,a.jsx)(v,{htmlContent:C,postSlug:k.slug,lang:w})]})}),(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-6 md:px-8 lg:px-12 pb-16",children:(0,a.jsxs)("div",{className:"space-y-12 pt-8",children:[(0,a.jsx)(T,{direction:"fade",delay:.2,children:(0,a.jsx)(N,{title:k.title,url:"".concat(_,"/blog/").concat(k.slug),lang:w})}),(0,a.jsx)(m,{posts:E,currentSlug:k.slug,lang:w}),(0,a.jsx)(b,{postSlug:k.slug,postTitle:k.title,lang:w,postUrl:"".concat(_,"/blog/").concat(k.slug)})]})})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[209,894,388,288,441,517,358],()=>r(5858)),_N_E=e.O()}]);