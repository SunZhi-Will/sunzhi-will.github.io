(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{5858:(e,r,t)=>{Promise.resolve().then(t.bind(t,4500))},4500:(e,r,t)=>{"use strict";t.d(r,{default:()=>v});var a=t(5155),o=t(2115),s=t(5565),n=t(119),l=t(8208),i=t(8637),d=t(2356);function c(e){let{lang:r,setLang:t}=e,o=l.h2[r],{theme:s}=(0,d.D)(),i="dark"===s;return(0,a.jsx)(n.P.div,{className:"fixed top-0 right-0 z-50 pointer-events-auto",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:(0,a.jsx)(n.P.div,{className:"relative overflow-hidden mt-4 mr-4 rounded-3xl backdrop-blur-2xl shadow-2xl transition-colors duration-300 ".concat(i?"bg-gray-900/95 border border-gray-700/60":"bg-white/90 border border-gray-300/60"),animate:{width:"auto",height:"3rem"},transition:{type:"spring",stiffness:300,damping:30},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full px-3",children:(0,a.jsx)(n.P.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.15},onClick:()=>t("zh-TW"===r?"en":"zh-TW"),className:"px-3 py-1.5 rounded-lg text-xs font-medium\n                        transition-all duration-200 whitespace-nowrap ".concat(i?"text-gray-300 hover:text-gray-200":"text-gray-700 hover:text-gray-900"),whileHover:{scale:1.05},whileTap:{scale:.95},children:o.langSwitch})})})})}var p=t(9444),g=t(5),u=t(8173),x=t.n(u);function h(e){let{posts:r,currentSlug:t,lang:o}=e,{theme:i}=(0,d.D)(),c="dark"===i,p=r.find(e=>e.slug===t),u=r.filter(e=>e.slug!==t).map(e=>{let r=(null==p?void 0:p.tags.filter(r=>e.tags.includes(r)).length)||0;return{post:e,score:r}}).sort((e,r)=>r.score!==e.score?r.score-e.score:new Date(r.post.date).getTime()-new Date(e.post.date).getTime()).slice(0,3).map(e=>e.post);return 0===u.length?null:(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-lg font-normal mb-6 ".concat(c?"text-gray-200":"text-gray-900"),children:"zh-TW"===o?"推薦閱讀":"Related Articles"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((e,r)=>(0,a.jsx)(n.P.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r,duration:.5,ease:"easeOut"},className:"group flex flex-col",children:(0,a.jsx)(x(),{href:"/blog/".concat(e.slug),className:"flex-1 flex flex-col",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg transition-all duration-300 flex flex-col h-full border ".concat(c?"bg-gray-800/80 hover:bg-gray-800/90 border-gray-700/60":"bg-white/80 hover:bg-white/90 border-gray-300/60"),children:[(0,a.jsx)("div",{className:"relative w-full aspect-[16/9] overflow-hidden flex-shrink-0 ".concat(c?"bg-gray-700/50":"bg-gray-200/50"),children:e.coverImage?(0,a.jsx)(s.default,{src:e.coverImage,alt:e.title,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105",sizes:"(max-width: 768px) 100vw, 33vw"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center ".concat(c?"bg-gradient-to-br from-gray-700 via-gray-800 to-gray-700":"bg-gradient-to-br from-gray-200 via-gray-300 to-gray-200"),children:(0,a.jsx)("svg",{className:"w-8 h-8 ".concat(c?"text-gray-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,a.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,a.jsx)("time",{className:"text-xs mb-2 block flex-shrink-0 ".concat(c?"text-gray-400":"text-gray-600"),children:(0,g.Y)(e.date,"zh-TW"===o?"zh-TW":"en-US")}),(0,a.jsx)("h3",{className:"text-base font-normal mb-2 line-clamp-2 transition-colors flex-shrink-0 ".concat(c?"text-gray-200 group-hover:text-gray-300":"text-gray-900 group-hover:text-gray-700"),children:e.title}),(0,a.jsx)("p",{className:"text-sm line-clamp-2 leading-relaxed flex-1 ".concat(c?"text-gray-300":"text-gray-700"),children:e.description}),(()=>{let r=(0,l.b1)(e.tags,o);return r.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-3 flex-shrink-0",children:r.slice(0,2).map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded ".concat(c?"text-gray-300 bg-gray-700/70 border border-gray-600/60":"text-gray-700 bg-gray-200/70 border border-gray-300/60"),children:e},e))})})()]})]})})},e.slug))})]})}var f=t(3704),y=t.n(f),m=t(2818);function b(e){let{postSlug:r,postTitle:t,lang:s}=e,{theme:n}=(0,d.D)(),l=(0,o.useRef)(null),i=m.env.NEXT_PUBLIC_DISQUS_SHORTNAME,c="".concat(window.location.origin,"/blog/").concat(r);return((0,o.useEffect)(()=>{i&&(window.disqus_config=function(){this.page.identifier=r,this.page.url=c,this.page.title=t},window.DISQUS&&window.disqus_config&&window.DISQUS.reset({reload:!0,config:window.disqus_config}))},[r,t,c,r,i]),i)?(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-lg font-normal mb-6 ".concat("dark"===n?"text-gray-200":"text-gray-900"),children:"zh-TW"===s?"留言":"Comments"}),(0,a.jsx)(y(),{id:"disqus-script",strategy:"lazyOnload",onLoad:()=>{i&&window.disqus_config&&window.DISQUS&&window.DISQUS.reset({reload:!0,config:window.disqus_config})},dangerouslySetInnerHTML:{__html:"\n                        (function() {\n                            var d = document, s = d.createElement('script');\n                            s.src = 'https://".concat(i,".disqus.com/embed.js';\n                            s.setAttribute('data-timestamp', +new Date());\n                            (d.head || d.body).appendChild(s);\n                        })();\n                    ")}}),(0,a.jsx)("div",{ref:l,id:"disqus_thread",className:"disqus-container"})]}):null}function v(e){let{defaultPost:r,defaultHtmlContent:t,defaultAllPosts:u,postsByLang:x,allPostsByLang:f}=e,[y,m]=(0,o.useState)("zh-TW"),[v,j]=(0,o.useState)(r),[w,_]=(0,o.useState)(t),[k,N]=(0,o.useState)(u),{theme:S}=(0,d.D)(),I="dark"===S,q=l.h2[y],O=Math.max(1,Math.ceil(w.length/1500)),T=e=>{let r=x[e];r&&(j(r.post),_(r.htmlContent)),N(f[e])};(0,o.useEffect)(()=>{let e=localStorage.getItem("blog-lang");if(e&&("zh-TW"===e||"en"===e))m(e),e!==r.lang&&T(e);else{let e=navigator.language.includes("zh")?"zh-TW":"en";m(e),localStorage.setItem("blog-lang",e),e!==r.lang&&T(e)}},[]);let M=e=>{e!==y&&(m(e),localStorage.setItem("blog-lang",e),T(e))};return(0,a.jsxs)("div",{className:"h-screen overflow-hidden relative transition-colors duration-300",style:{backgroundColor:I?"#111827":"#f9fafb",backgroundImage:I?"radial-gradient(circle, rgba(255,255,255,0.08) 1px, transparent 1px), linear-gradient(to bottom right, #111827, #1f2937, #111827)":"radial-gradient(circle, rgba(0,0,0,0.1) 1px, transparent 1px), linear-gradient(to bottom right, #f9fafb, #f3f4f6, #f9fafb)",backgroundSize:"20px 20px, 100% 100%",backgroundPosition:"0 0, 0 0",color:I?"#e5e7eb":"#111827"},children:[(0,a.jsx)(p.G,{lang:y,setLang:M}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(i.n,{lang:y})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(c,{lang:y,setLang:M})}),(0,a.jsx)("main",{className:"overflow-y-auto h-full scrollbar-custom",children:(0,a.jsxs)("article",{className:"relative",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-12 md:px-8 md:py-16 lg:px-12 lg:py-20 pt-20 md:pt-24",children:(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-8",children:[(0,a.jsxs)("header",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-normal leading-tight tracking-tight ".concat(I?"text-gray-200":"text-gray-900"),children:v.title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm ".concat(I?"text-gray-400":"text-gray-600"),children:[(0,a.jsx)("time",{children:(0,g.Y)(v.date,"zh-TW"===y?"zh-TW":"en-US")}),O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsxs)("span",{children:[O," ",q.readTime]})]}),(()=>{let e=(0,l.b1)(v.tags,y);return e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.map(e=>(0,a.jsx)("span",{className:I?"text-gray-400":"text-gray-600",children:e},e))})]})})()]})]}),v.coverImage&&(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-lg ".concat(I?"bg-gray-700/50":"bg-gray-200/50"),children:(0,a.jsx)(s.default,{src:v.coverImage,alt:v.title,width:1200,height:675,className:"w-full h-auto",priority:!0})}),v.description&&(0,a.jsx)("p",{className:"text-base leading-relaxed ".concat(I?"text-gray-300":"text-gray-700"),children:v.description}),(0,a.jsx)("div",{className:"prose prose-base max-w-none\n                                    prose-h1:text-2xl prose-h1:mt-12 prose-h1:mb-4 prose-h1:font-normal\n                                    prose-h2:text-xl prose-h2:mt-10 prose-h2:mb-4 prose-h2:font-normal\n                                    prose-h3:text-lg prose-h3:mt-8 prose-h3:mb-3 prose-h3:font-normal\n                                    prose-h4:text-base prose-h4:mt-6 prose-h4:mb-2 prose-h4:font-normal\n                                    prose-p:leading-relaxed prose-p:font-normal prose-p:text-[15px] prose-p:mb-5\n                                    prose-a:no-underline prose-a:border-b prose-a:transition-all prose-a:font-medium\n                                    prose-strong:font-semibold\n                                    prose-code:px-2 prose-code:py-1 prose-code:text-sm prose-code:font-mono prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-code:border\n                                    prose-pre:rounded-xl prose-pre:shadow-xl prose-pre:backdrop-blur-sm prose-pre:overflow-x-auto\n                                    prose-pre code:bg-transparent prose-pre code:px-0 prose-pre code:py-0 prose-pre code:border-0\n                                    prose-blockquote:border-l-4 prose-blockquote:py-4 prose-blockquote:pl-6 prose-blockquote:pr-6 prose-blockquote:rounded-r-lg prose-blockquote:font-light prose-blockquote:not-italic prose-blockquote:my-8\n                                    prose-ul:my-6 prose-ol:my-6\n                                    prose-li:my-2 prose-li:leading-relaxed\n                                    prose-img:rounded-xl prose-img:border prose-img:shadow-xl prose-img:my-8\n                                    prose-hr:my-12\n                                    prose-th:border prose-th:px-4 prose-th:py-2\n                                    prose-td:border prose-td:px-4 prose-td:py-2\n                                    ".concat(I?"prose-headings:font-normal prose-headings:tracking-tight prose-headings:text-gray-200\n                                        prose-p:text-gray-300\n                                        prose-a:text-gray-400 prose-a:border-gray-600/50 hover:prose-a:border-gray-500 hover:prose-a:text-gray-300\n                                        prose-strong:text-gray-200\n                                        prose-code:text-gray-300 prose-code:bg-gray-700/80 prose-code:border-gray-600/50\n                                        prose-pre:bg-gray-800/80 prose-pre:border prose-pre:border-gray-700/50\n                                        prose-blockquote:border-gray-600/50 prose-blockquote:bg-gray-800/30 prose-blockquote:text-gray-300\n                                        prose-ul:text-gray-300 prose-ol:text-gray-300\n                                        prose-li:marker:text-gray-500\n                                        prose-img:border-gray-700/50\n                                        prose-hr:border-gray-700/50\n                                        prose-table:text-gray-300 prose-th:border-gray-700/50 prose-th:bg-gray-800/30\n                                        prose-td:border-gray-700/50":"prose-headings:font-normal prose-headings:tracking-tight prose-headings:text-gray-900\n                                        prose-p:text-gray-700\n                                        prose-a:text-gray-600 prose-a:border-gray-400/50 hover:prose-a:border-gray-600 hover:prose-a:text-gray-800\n                                        prose-strong:text-gray-900\n                                        prose-code:text-gray-800 prose-code:bg-gray-200/80 prose-code:border-gray-300/50\n                                        prose-pre:bg-gray-100/80 prose-pre:border prose-pre:border-gray-300/50\n                                        prose-blockquote:border-gray-400/50 prose-blockquote:bg-gray-200/30 prose-blockquote:text-gray-700\n                                        prose-ul:text-gray-700 prose-ol:text-gray-700\n                                        prose-li:marker:text-gray-600\n                                        prose-img:border-gray-300/50\n                                        prose-hr:border-gray-300/50\n                                        prose-table:text-gray-700 prose-th:border-gray-300/50 prose-th:bg-gray-200/30\n                                        prose-td:border-gray-300/50"),dangerouslySetInnerHTML:{__html:w}})]})}),(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-6 md:px-8 lg:px-12 pb-16",children:(0,a.jsxs)("div",{className:"space-y-12 pt-8",children:[(0,a.jsx)(h,{posts:k,currentSlug:v.slug,lang:y}),(0,a.jsx)(b,{postSlug:v.slug,postTitle:v.title,lang:y})]})})]})})]})}},3704:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return m},handleClientScriptLoad:function(){return h},initScriptLoader:function(){return f}});let a=t(306),o=t(9955),s=t(5155),n=a._(t(7650)),l=o._(t(2115)),i=t(1147),d=t(2815),c=t(8571),p=new Map,g=new Set,u=e=>{if(n.default.preinit){e.forEach(e=>{n.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let r=document.head;e.forEach(e=>{let t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,r.appendChild(t)})}},x=e=>{let{src:r,id:t,onLoad:a=()=>{},onReady:o=null,dangerouslySetInnerHTML:s,children:n="",strategy:l="afterInteractive",onError:i,stylesheets:c}=e,x=t||r;if(x&&g.has(x))return;if(p.has(r)){g.add(x),p.get(r).then(a,i);return}let h=()=>{o&&o(),g.add(x)},f=document.createElement("script"),y=new Promise((e,r)=>{f.addEventListener("load",function(r){e(),a&&a.call(this,r),h()}),f.addEventListener("error",function(e){r(e)})}).catch(function(e){i&&i(e)});s?(f.innerHTML=s.__html||"",h()):n?(f.textContent="string"==typeof n?n:Array.isArray(n)?n.join(""):"",h()):r&&(f.src=r,p.set(r,y)),(0,d.setAttributesFromProps)(f,e),"worker"===l&&f.setAttribute("type","text/partytown"),f.setAttribute("data-nscript",l),c&&u(c),document.body.appendChild(f)};function h(e){let{strategy:r="afterInteractive"}=e;"lazyOnload"===r?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>x(e))}):x(e)}function f(e){e.forEach(h),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let r=e.id||e.getAttribute("src");g.add(r)})}function y(e){let{id:r,src:t="",onLoad:a=()=>{},onReady:o=null,strategy:d="afterInteractive",onError:p,stylesheets:u,...h}=e,{updateScripts:f,scripts:y,getIsSsr:m,appDir:b,nonce:v}=(0,l.useContext)(i.HeadManagerContext),j=(0,l.useRef)(!1);(0,l.useEffect)(()=>{let e=r||t;j.current||(o&&e&&g.has(e)&&o(),j.current=!0)},[o,r,t]);let w=(0,l.useRef)(!1);if((0,l.useEffect)(()=>{!w.current&&("afterInteractive"===d?x(e):"lazyOnload"===d&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>x(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>x(e))})),w.current=!0)},[e,d]),("beforeInteractive"===d||"worker"===d)&&(f?(y[d]=(y[d]||[]).concat([{id:r,src:t,onLoad:a,onReady:o,onError:p,...h}]),f(y)):m&&m()?g.add(r||t):m&&!m()&&x(e)),b){if(u&&u.forEach(e=>{n.default.preinit(e,{as:"style"})}),"beforeInteractive"===d)return t?(n.default.preload(t,h.integrity?{as:"script",integrity:h.integrity,nonce:v,crossOrigin:h.crossOrigin}:{as:"script",nonce:v,crossOrigin:h.crossOrigin}),(0,s.jsx)("script",{nonce:v,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([t,{...h,id:r}])+")"}})):(h.dangerouslySetInnerHTML&&(h.children=h.dangerouslySetInnerHTML.__html,delete h.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:v,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...h,id:r}])+")"}}));"afterInteractive"===d&&t&&n.default.preload(t,h.integrity?{as:"script",integrity:h.integrity,nonce:v,crossOrigin:h.crossOrigin}:{as:"script",nonce:v,crossOrigin:h.crossOrigin})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let m=y;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},2815:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"setAttributesFromProps",{enumerable:!0,get:function(){return s}});let t={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},a=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function o(e){return["async","defer","noModule"].includes(e)}function s(e,r){for(let[s,n]of Object.entries(r)){if(!r.hasOwnProperty(s)||a.includes(s)||void 0===n)continue;let l=t[s]||s.toLowerCase();"SCRIPT"===e.tagName&&o(l)?e[l]=!!n:e.setAttribute(l,String(n)),(!1===n||"SCRIPT"===e.tagName&&o(l)&&(!n||"false"===n))&&(e.setAttribute(l,""),e.removeAttribute(l))}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}},e=>{var r=r=>e(e.s=r);e.O(0,[209,894,288,441,517,358],()=>r(5858)),_N_E=e.O()}]);