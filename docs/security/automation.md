# ğŸ”’ GitHub è‡ªå‹•åŒ–å®‰å…¨é…ç½®èªªæ˜

æœ¬æ–‡æª”èªªæ˜å°ˆæ¡ˆä¸­é…ç½®çš„ GitHub è‡ªå‹•åŒ–å®‰å…¨åŠŸèƒ½ã€‚

---

## ğŸ“‹ å·²é…ç½®çš„è‡ªå‹•åŒ–å®‰å…¨åŠŸèƒ½

### 0. GitHub å…§å»ºå®‰å…¨åŠŸèƒ½ï¼ˆDependabot + CodeQLï¼‰

**ç‹€æ…‹**: âœ… **å·²é…ç½®ï¼Œéœ€åœ¨ Settings ä¸­å•Ÿç”¨**

GitHub æä¾›å…§å»ºçš„è‡ªå‹•åŒ–å®‰å…¨æ©Ÿå™¨äººï¼š

#### Dependabotï¼ˆå·²é…ç½®ï¼‰
- **æª”æ¡ˆ**: `.github/dependabot.yml`
- **åŠŸèƒ½**: è‡ªå‹•æƒæä¾è³´æ¼æ´ä¸¦å»ºç«‹ä¿®å¾© PR
- **å•Ÿç”¨**: Repository Settings > Security > Dependabot alerts

#### CodeQLï¼ˆå·²é…ç½®ï¼‰
- **æª”æ¡ˆ**: `.github/workflows/codeql.yml`
- **åŠŸèƒ½**: è‡ªå‹•ä»£ç¢¼å®‰å…¨æƒæ
- **å•Ÿç”¨**: Repository Settings > Security > Code scanning

**è©³ç´°èªªæ˜**: æŸ¥çœ‹ [`docs/security/github-features.md`](../security/github-features.md)

---

### 1. å®‰å…¨å¯©è¨ˆ (Security Audit)

**æª”æ¡ˆ**: `.github/workflows/security-audit.yml`

**åŠŸèƒ½**:
- âœ… æ¯é€±ä¸€è‡ªå‹•åŸ·è¡Œå®‰å…¨å¯©è¨ˆ
- âœ… æª¢æŸ¥ npm ä¾è³´æ¼æ´
- âœ… ä»£ç¢¼å®‰å…¨æƒæ
- âœ… ä¾è³´å¯©æŸ¥ï¼ˆPull Request æ™‚ï¼‰
- âœ… æ©Ÿå¯†è³‡è¨Šæƒæ

**è§¸ç™¼æ¢ä»¶**:
- æ¯é€±ä¸€ UTC 00:00 è‡ªå‹•åŸ·è¡Œ
- æ‰‹å‹•è§¸ç™¼
- `package.json` æˆ– `package-lock.json` è®Šæ›´æ™‚

**è¼¸å‡º**:
- å¯©è¨ˆçµæœ JSON æª”æ¡ˆ
- GitHub Actions æ‘˜è¦å ±å‘Š
- ç™¼ç¾åš´é‡æ¼æ´æ™‚æœƒå¤±æ•—

---

### 2. è‡ªå‹•ä¿®å¾©å®‰å…¨å•é¡Œ (Auto Fix Security)

**æª”æ¡ˆ**: `.github/workflows/auto-fix-security.yml`

**åŠŸèƒ½**:
- âœ… è‡ªå‹•åŸ·è¡Œ `npm audit fix`
- âœ… è‡ªå‹•å»ºç«‹ Pull Request
- âœ… å¯é¸æ“‡ä¿®å¾©ç´šåˆ¥ï¼ˆmoderate/high/criticalï¼‰

**è§¸ç™¼æ¢ä»¶**:
- å®‰å…¨å¯©è¨ˆå¤±æ•—å¾Œè‡ªå‹•è§¸ç™¼
- æ‰‹å‹•è§¸ç™¼ï¼ˆå¯é¸æ“‡ä¿®å¾©ç´šåˆ¥ï¼‰

**æ³¨æ„**: 
- è‡ªå‹•å»ºç«‹çš„ PR éœ€è¦æ‰‹å‹•å¯©æŸ¥
- å»ºè­°æ¸¬è©¦å¾Œå†åˆä½µ

---

### 3. å®‰å…¨è­¦å ± (Security Alert)

**æª”æ¡ˆ**: `.github/workflows/security-alert.yml`

**åŠŸèƒ½**:
- âœ… ç›£æ§ GitHub å®‰å…¨è­¦å ±
- âœ… æ¯é€±æª¢æŸ¥å®‰å…¨å»ºè­°
- âœ… è‡ªå‹•å»ºç«‹ Issue é€šçŸ¥

**è§¸ç™¼æ¢ä»¶**:
- GitHub å®‰å…¨è­¦å ±è§¸ç™¼
- æ¯é€±ä¸€ UTC 09:00 è‡ªå‹•æª¢æŸ¥

**è¼¸å‡º**:
- è‡ªå‹•å»ºç«‹å¸¶æœ‰ `security`ã€`automated`ã€`urgent` æ¨™ç±¤çš„ Issue
- åŒ…å«æ¼æ´æ‘˜è¦å’Œä¿®å¾©å»ºè­°

---

### 4. å®Œæ•´å®‰å…¨æƒæ (Security Scan)

**æª”æ¡ˆ**: `.github/workflows/security-scan.yml`

**åŠŸèƒ½**:
- âœ… å®Œæ•´çš„ä¾è³´å¯©è¨ˆ
- âœ… Snyk æ¼æ´æƒæï¼ˆéœ€é…ç½® SNYK_TOKENï¼‰
- âœ… æ©Ÿå¯†è³‡è¨Šæƒæ
- âœ… API é‡‘é‘°æª¢æ¸¬
- âœ… ç’°å¢ƒæª”æ¡ˆæª¢æŸ¥
- âœ… `.gitignore` é©—è­‰

**è§¸ç™¼æ¢ä»¶**:
- æ¯é€±æ—¥ UTC 02:00 è‡ªå‹•åŸ·è¡Œ
- æ‰‹å‹•è§¸ç™¼
- é‡è¦é…ç½®æª”æ¡ˆè®Šæ›´æ™‚

**è¼¸å‡º**:
- å®Œæ•´çš„æƒæå ±å‘Š
- 90 å¤©ä¿ç•™æœŸçš„å¯©è¨ˆçµæœ

---

### 5. Dependabot è‡ªå‹•æ›´æ–°

**æª”æ¡ˆ**: `.github/dependabot.yml`

**åŠŸèƒ½**:
- âœ… æ¯é€±è‡ªå‹•æª¢æŸ¥ä¾è³´æ›´æ–°
- âœ… è‡ªå‹•å»ºç«‹ Pull Request
- âœ… åˆ†çµ„æ›´æ–°ï¼ˆæ¸›å°‘ PR æ•¸é‡ï¼‰
- âœ… å„ªå…ˆè™•ç†å®‰å…¨æ›´æ–°

**è§¸ç™¼æ¢ä»¶**:
- æ¯é€±ä¸€ UTC 09:00 è‡ªå‹•åŸ·è¡Œ

**é…ç½®**:
- ç”Ÿç”¢ä¾è³´å’Œé–‹ç™¼ä¾è³´åˆ†çµ„
- æœ€å¤šåŒæ™‚é–‹å•Ÿ 10 å€‹ PR
- è‡ªå‹•æ¨™è¨˜ `security` æ¨™ç±¤

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ‰‹å‹•è§¸ç™¼å®‰å…¨å¯©è¨ˆ

1. å‰å¾€ GitHub Repository
2. é»æ“Š **Actions** æ¨™ç±¤
3. é¸æ“‡ **Security Audit** workflow
4. é»æ“Š **Run workflow**

### æŸ¥çœ‹å®‰å…¨å¯©è¨ˆçµæœ

1. å‰å¾€ **Actions** æ¨™ç±¤
2. é¸æ“‡æœ€è¿‘åŸ·è¡Œçš„ **Security Audit**
3. æŸ¥çœ‹å„æ­¥é©Ÿçš„è©³ç´°çµæœ
4. ä¸‹è¼‰å¯©è¨ˆçµæœ JSON æª”æ¡ˆï¼ˆArtifactsï¼‰

### è‡ªå‹•ä¿®å¾©æ¼æ´

1. ç•¶å®‰å…¨å¯©è¨ˆç™¼ç¾æ¼æ´æ™‚ï¼Œ**Auto Fix Security** æœƒè‡ªå‹•è§¸ç™¼
2. æˆ–æ‰‹å‹•è§¸ç™¼ï¼Œé¸æ“‡ä¿®å¾©ç´šåˆ¥
3. å¯©æŸ¥è‡ªå‹•å»ºç«‹çš„ Pull Request
4. æ¸¬è©¦å¾Œåˆä½µ

### é…ç½® Snykï¼ˆå¯é¸ï¼‰

1. å‰å¾€ [Snyk](https://snyk.io/) è¨»å†Šå¸³è™Ÿ
2. å–å¾— API Token
3. åœ¨ GitHub Repository Settings > Secrets ä¸­æ·»åŠ  `SNYK_TOKEN`
4. å®‰å…¨æƒæå°‡è‡ªå‹•ä½¿ç”¨ Snyk é€²è¡Œæ›´æ·±å…¥çš„æª¢æŸ¥

---

## ğŸ“Š å®‰å…¨æª¢æŸ¥é »ç‡

| æª¢æŸ¥é¡å‹ | é »ç‡ | è§¸ç™¼æ¢ä»¶ |
|---------|------|---------|
| å®‰å…¨å¯©è¨ˆ | æ¯é€±ä¸€ | è‡ªå‹• + ä¾è³´è®Šæ›´ |
| å®‰å…¨æƒæ | æ¯é€±æ—¥ | è‡ªå‹• + é…ç½®è®Šæ›´ |
| å®‰å…¨è­¦å ± | æ¯é€±ä¸€ | è‡ªå‹• + GitHub è­¦å ± |
| Dependabot | æ¯é€±ä¸€ | è‡ªå‹• |
| è‡ªå‹•ä¿®å¾© | æŒ‰éœ€ | å¯©è¨ˆå¤±æ•—å¾Œ |

---

## ğŸ”” é€šçŸ¥æ©Ÿåˆ¶

### GitHub Issues
- ç™¼ç¾å®‰å…¨æ¼æ´æ™‚è‡ªå‹•å»ºç«‹ Issue
- æ¨™è¨˜ç‚º `security`ã€`automated`ã€`urgent`

### GitHub Actions Summary
- æ¯æ¬¡åŸ·è¡Œå¾Œç”Ÿæˆæ‘˜è¦å ±å‘Š
- åŒ…å«æ¼æ´çµ±è¨ˆå’Œä¿®å¾©å»ºè­°

### Pull Requests
- Dependabot è‡ªå‹•å»ºç«‹æ›´æ–° PR
- è‡ªå‹•ä¿®å¾©åŠŸèƒ½å»ºç«‹ä¿®å¾© PR

---

## âš™ï¸ é…ç½®å»ºè­°

### 1. å•Ÿç”¨ GitHub Security Features

åœ¨ Repository Settings > Security ä¸­å•Ÿç”¨ï¼š
- âœ… Dependabot alerts
- âœ… Dependabot security updates
- âœ… Secret scanning
- âœ… Code scanning

### 2. é…ç½® Branch Protection

å»ºè­°åœ¨ Repository Settings > Branches ä¸­é…ç½®ï¼š
- è¦æ±‚ PR å¯©æŸ¥
- è¦æ±‚é€šéç‹€æ…‹æª¢æŸ¥
- è¦æ±‚æœ€æ–°åˆ†æ”¯

### 3. è¨­ç½®é€šçŸ¥

åœ¨ Repository Settings > Notifications ä¸­ï¼š
- å•Ÿç”¨å®‰å…¨è­¦å ±é€šçŸ¥
- è¨­ç½®é€šçŸ¥åå¥½

---

## ğŸ“ æœ€ä½³å¯¦è¸

1. **å®šæœŸæª¢æŸ¥**: æ¯é€±æª¢æŸ¥å®‰å…¨å¯©è¨ˆçµæœ
2. **åŠæ™‚ä¿®å¾©**: å„ªå…ˆè™•ç† Critical å’Œ High ç´šåˆ¥æ¼æ´
3. **æ¸¬è©¦æ›´æ–°**: è‡ªå‹•ä¿®å¾©çš„ PR éœ€è¦å……åˆ†æ¸¬è©¦
4. **å¯©æŸ¥è®Šæ›´**: ä»”ç´°å¯©æŸ¥æ‰€æœ‰è‡ªå‹•å»ºç«‹çš„ PR
5. **ä¿æŒæ›´æ–°**: å®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¯©è¨ˆå¤±æ•—ä½†æ²’æœ‰æ¼æ´

æª¢æŸ¥ `audit-results.json` æª”æ¡ˆï¼Œå¯èƒ½æ˜¯ï¼š
- ä¾è³´ç‰ˆæœ¬è¡çª
- éæ™‚çš„ lock æª”æ¡ˆ

è§£æ±ºæ–¹æ³•ï¼š
```bash
rm package-lock.json
npm install
npm audit
```

### è‡ªå‹•ä¿®å¾©ç„¡æ³•å»ºç«‹ PR

æª¢æŸ¥ï¼š
- Repository æ¬Šé™è¨­ç½®
- GitHub Token æ¬Šé™
- Branch protection è¦å‰‡

### Snyk æƒæå¤±æ•—

ç¢ºä¿ï¼š
- `SNYK_TOKEN` secret å·²æ­£ç¢ºé…ç½®
- Token æœ‰æ•ˆä¸”æœªéæœŸ
- Snyk å¸³è™Ÿæœ‰æ¬Šé™æƒææ­¤ repository

---

## ğŸ“š ç›¸é—œè³‡æº

- [GitHub Security](https://docs.github.com/en/code-security)
- [Dependabot Documentation](https://docs.github.com/en/code-security/dependabot)
- [npm audit Documentation](https://docs.npmjs.com/cli/v8/commands/npm-audit)
- [Snyk Documentation](https://docs.snyk.io/)

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ  
**ç¶­è­·è€…**: SunZhi-Will

